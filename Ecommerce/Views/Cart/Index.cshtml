@model List<Ecommerce.Models.CartViewModel>
@{
    ViewBag.Title = "Cart";
}

<h2>Your cart</h2>

@foreach (var product in Model)
{
    <div class="row cartLineWrap">
        <div class="col-sm-2">
            <img src="@Url.Content("~/Content/" + product.ImgUrl)" alt="@product.Title" class="img-fluid" height="150" />
        </div>
        <div class="col-sm-4">
            <h3>@(product.Title)</h3>
            <p>@(product.Artist)</p>
            <p>$ @(product.Price)</p>
        </div>
        <div class="col-sm-6 cartForms">
            @using (Html.BeginForm("UpdateProductQty", "Cart"))
            {
                <input type="hidden" name="productId" value="@(product.Id)" />
                <input type="hidden" name="cartId" value="@(product.CartId)" />
                <input type="number" name="qty" value="@(product.Qty)" />
                <input type="Submit" value="Update Quantity" />
            }
            @using (Html.BeginForm("RemoveFromCart", "Cart"))
            {
                <input type="hidden" name="productId" value="@(product.Id)" />
                <input type="hidden" name="cartId" value="@(product.CartId)" />
                <input type="Submit" value="Remove from Cart" />
            }

        </div>
    </div>
}